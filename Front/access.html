<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ELMANASA</title>
    <link rel="icon" href="assets/img/book (1).png" type="image/x-icon">

    <link rel="stylesheet" href="CSS/access_page.css">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

    <link href="assets/vendor/aos/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>


</head>

<body id="body">

    <div class="container auth-container" data-aos="fade-right" data-aos-delay=" 100">
        <div class="Form">

            <div class="switch-container" data-aos="fade-up" data-aos-delay="400">
                <label class=" switch">
                    <input type="checkbox" id="toggleSwitch">
                    <span class="slider">
                        Sign up<span id="switchLabel">Sign in</span>
                    </span>
                </label>
            </div>
            <!--   
            <div class="icon-circle" data-aos="fade-right" data-aos-delay="400">
                <i class="material-icons"></i>
            </div>
            -->

            <!-- Sign in part -->
            <div id="signin_Content" class="content signin visible">

                <h1 data-aos="fade-down" data-aos-delay="400">Welcome back!</h1>
                <p data-aos="fade-down" data-aos-delay="400">Please enter your details to sign in.</p>

                <form id="authForm" data-aos="fade-left" data-aos-delay="400">

                    <div class="input-container">
                        <i class="bi bi-envelope-fill"></i>
                        <input type="email" id="email" name="email" placeholder="Enter your email" required
                            autocomplete="on">
                        <label for="email">Email</label>

                    </div>

                    <div class="input-container">
                        <div class="password-wrapper">
                            <i class="bi bi-lock-fill"></i>
                            <input type="password" id="password" name="password" placeholder="Enter you password"
                                required autocomplete="on">
                            <label for="password">Password</label>
                            <button id="togglePassword" type="button"> <i class="bi bi-eye-fill" id="toggleIcon"></i>
                            </button>
                        </div>
                    </div>

                    <div class="options">
                        <label style="color:black">
                            <input type="checkbox" id="rememberMe"> Remember me
                        </label>
                        <a href="#" class="forgot-password">Forgot password?</a>
                    </div>
                    <button type="submit" class="login-button">Sign In</button>
                    <p class="signup-link">If you don't have an account yet... <a> Sign Up</a></p>
                </form>

            </div>

            <!-- ************************************************************************************** -->


            <!-- Sign up part -->
            <div id="signup_Content" class="content signup">
                <form onsubmit="return validateForm()">
                    <div class="photo-input-container">
                        <div class="photo-input" id="photoInput">
                            <!-- Replace FontAwesome Icon with an Image Icon -->
                            <i class="bi bi-camera-fill" id="cameraIcon"></i>

                            <!-- Your image icon -->
                            <img src="" alt="" class="uploaded-image" id="uploadedImage" style="display: none;">
                            <input type="file" accept="image/*" id="fileInput" onchange="previewImage(event)">
                        </div>
                    </div>

                    <h1 data-aos="fade-down" data-aos-delay="400">Welcome</h1>
                    <p data-aos="fade-down" data-aos-delay="400">Hi, enter your details to sign up.</p>

                    <form id="authForm" data-aos="fade-left" data-aos-delay="400">

                        <div class="input-container-inputs">
                            <div class="input-container2">
                                <i class="bi bi-person-fill"></i>
                                <input type="text" name="fname" id="fname" placeholder="First" required
                                    autocomplete="on">
                                <div class="input-group-labels">
                                    <label for="fname">First Name</label>
                                </div>
                            </div>

                            <div class="input-container2" id="f">
                                <i class="bi bi-person-fill"></i>
                                <input type="text" name="mname" id="mname" placeholder="Middle" required
                                    autocomplete="on">
                                <div class="input-group-labels">
                                    <label for="mname">Middle Name</label>
                                </div>
                            </div>

                            <div class="input-container2">
                                <i class="bi bi-person-fill"></i>
                                <input type="text" name="lname" id="lname" placeholder="Last" required
                                    autocomplete="on">
                                <div class="input-group-labels">
                                    <label for="lname">Last Name</label>
                                </div>
                            </div>
                        </div>

                        <div class="input-container">
                            <i class="bi bi-bar-chart-steps"></i>
                            <input type="number" id="level" name="level" placeholder="Your Level" max="12" min="1"
                                required autocomplete="on">
                            <label for="level">Level</label>
                        </div>

                        <div class="input-container">
                            <i class="bi bi-telephone-fill"></i>
                            <input type="tel" id="phone" name="phone" placeholder="Enter your phone number"
                                pattern="[0-9]{11}" required autocomplete="on">
                            <label for="phone">Phone</label>
                        </div>

                        <div class="input-container">
                            <i class="bi bi-telephone-fill"></i>
                            <input type="tel" id="phone2" name="phone2" placeholder="Enter your gradient phone number"
                                pattern="[0-9]{11}" required autocomplete="on">
                            <label for="phone2">Gradient Phone</label>
                        </div>

                        <div class="input-container">
                            <i class="bi bi-calendar-month-fill"></i>
                            <input type="text" id="date" name="date" placeholder="Enter your date of birth" required
                                autocomplete="on">
                            <label for="date">Date of birth</label>
                        </div>

                        <div class="input-container">
                            <i class="bi bi-envelope-fill"></i>
                            <input type="email" id="email" name="email" placeholder="Enter your email" required
                                autocomplete="on">
                            <label for="email">Email</label>
                        </div>

                        <div class="input-container">
                            <div class="password-wrapper">
                                <i class="bi bi-lock-fill"></i>
                                <input type="password" id="password2" name="password" placeholder="Create password"
                                    pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$"
                                    required autocomplete="on">
                                <label for="pass">Password</label>
                                <button id="togglePassword2" type="button"> <i class="bi bi-eye-fill"
                                        id="toggleIcon2"></i>
                                </button>
                            </div>
                        </div>

                        <div class="input-container">

                            <div class="password-wrapper">
                                <i class="bi bi-lock-fill"></i>
                                <input type="password" id="password3" name="password" placeholder="Confirm password"
                                    required autocomplete="on">
                                <label for="coxfpass">Confirm Password</label>
                                <button id="togglePassword3" type="button"> <i class="bi bi-eye-fill"
                                        id="toggleIcon3"></i>
                                </button>
                            </div>
                        </div>
                        <button type="submit" class="login-button">Sign Up</button>
                        <p class="signup-link">If you already have an account... <a> Sign In</a></p>
                    </form>
                </form>
            </div>

        </div>
    </div>
    <script src="assets/vendor/aos/aos.js"></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="assets/vendor/waypoints/noframework.waypoints.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>
    <script src="assets/js/script.js"></script>
    <script src="assets/js/jquery-3.7.1.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const passwordInput = document.getElementById('password');
            const togglePasswordButton = document.getElementById('togglePassword');
            const toggleIcon = document.getElementById('toggleIcon');

            togglePasswordButton.addEventListener('click', () => {
                const isPasswordHidden = passwordInput.type === 'password';
                passwordInput.type = isPasswordHidden ? 'text' : 'password';

                // Update the icon class
                toggleIcon.className = isPasswordHidden ? 'bi bi-eye-slash-fill' : 'bi bi-eye-fill';
            });

            const passwordInput2 = document.getElementById('password2');
            const togglePasswordButton2 = document.getElementById('togglePassword2');
            const toggleIcon2 = document.getElementById('toggleIcon2');

            togglePasswordButton2.addEventListener('click', () => {
                const isPasswordHidden2 = passwordInput2.type === 'password';
                passwordInput2.type = isPasswordHidden2 ? 'text' : 'password';

                // Update the icon class
                toggleIcon2.className = isPasswordHidden2 ? 'bi bi-eye-slash-fill' : 'bi bi-eye-fill';
            });
            const passwordInput3 = document.getElementById('password3');
            const togglePasswordButton3 = document.getElementById('togglePassword3');
            const toggleIcon3 = document.getElementById('toggleIcon3');

            togglePasswordButton3.addEventListener('click', () => {
                const isPasswordHidden3 = passwordInput3.type === 'password';
                passwordInput3.type = isPasswordHidden3 ? 'text' : 'password';

                // Update the icon class
                toggleIcon3.className = isPasswordHidden3 ? 'bi bi-eye-slash-fill' : 'bi bi-eye-fill';
            });
        });

        // Get references to the DOM elements
        const toggleSwitch = document.getElementById('toggleSwitch');
        const switchLabel = document.getElementById('switchLabel');
        const signinContent = document.getElementById('signin_Content');
        const signupContent = document.getElementById('signup_Content');
        const bodyheight = document.getElementById('body');


        // Add event listener to toggle switch
        toggleSwitch.addEventListener('change', () => {
            if (toggleSwitch.checked) {
                signinContent.classList.remove('visible');
                signupContent.classList.add('visible');
                bodyheight.style.height = "100%"; // Highlight the input

            } else {
                signinContent.classList.add('visible');
                signupContent.classList.remove('visible');
                bodyheight.style.height = "100vh ";

            }
        });

        (function () {
            function getModeFromURL() {
                const params = new URLSearchParams(window.location.search);
                return params.get('mode'); // Returns 'register' or 'login'
            }


            function showContent() {
                const mode = getModeFromURL();
                const registerContent = document.getElementById('signup_Content');
                const loginContent = document.getElementById('signin_Content');
                const toggleSwitch = document.getElementById('toggleSwitch');
                const bodyheight = document.getElementById('body');


                if (mode === 'signup') {
                    registerContent.classList.add('visible');
                    loginContent.classList.remove('visible');
                    toggleSwitch.checked = true;
                    bodyheight.style.height = "100%"; // Highlight the input


                } else if (mode === 'signin') {
                    loginContent.classList.add('visible');
                    registerContent.classList.remove('visible');
                    toggleSwitch.checked = false;
                    bodyheight.style.height = "100vh";
                }
            }

            // Initialize the page
            showContent();
        })();


        document.addEventListener("DOMContentLoaded", () => {
            const passwordInput = document.getElementById("password2");
            const confirmPasswordInput = document.getElementById("password3");

            // Function to validate passwords
            const validatePasswords = () => {
                if (passwordInput.value !== confirmPasswordInput.value) {
                    confirmPasswordInput.setCustomValidity("Passwords do not match");
                } else {
                    confirmPasswordInput.setCustomValidity("");
                }
            };
            passwordInput.addEventListener("input", validatePasswords);
            confirmPasswordInput.addEventListener("input", validatePasswords);
        });


        function previewImage(event) {
            const fileInput = event.target;
            const file = fileInput.files[0];
            const imgElement = document.getElementById('uploadedImage');
            const iconElement = document.getElementById('cameraIcon');

            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    imgElement.src = e.target.result;
                    imgElement.style.display = 'block'; // Show the uploaded image
                    iconElement.style.display = 'none'; // Hide the camera image icon
                }
                reader.readAsDataURL(file);
            }
        }

        function validateForm() {
            const fileInput = document.getElementById('fileInput');
            const file = fileInput.files[0]; // Get the uploaded file

            // If no photo is uploaded, prevent form submission and alert the user
            if (!file) {
                alert('Please upload a photo before submitting the form.');
                return false; // Prevent form submission
            }

            return true; // Allow form submission
        }

    </script>
</body>

</html>